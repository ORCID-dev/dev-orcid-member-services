{"remainingRequest":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\ts-loader\\index.js??ref--9-3!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular-router-loader\\src\\index.js!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\tslint-loader\\index.js!C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\report\\report.component.ts","dependencies":[{"path":"C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\report\\report.component.ts","mtime":1663837716139},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular2-template-loader\\index.js","mtime":1663256168388},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663256170419},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1663256168812},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\ts-loader\\index.js","mtime":1663256162409},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular-router-loader\\src\\index.js","mtime":1663256183091},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\tslint-loader\\index.js","mtime":1663256174695}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOw0KT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsNCmNvbnN0IHRzbGliXzEgPSByZXF1aXJlKCJ0c2xpYiIpOw0KdmFyIF9hLCBfYiwgX2M7DQpjb25zdCBjb3JlXzEgPSByZXF1aXJlKCJAYW5ndWxhci9jb3JlIik7DQpjb25zdCByZXBvcnRfc2VydmljZV8xID0gcmVxdWlyZSgiLi9yZXBvcnQuc2VydmljZSIpOw0KY29uc3QgcGxhdGZvcm1fYnJvd3Nlcl8xID0gcmVxdWlyZSgiQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3NlciIpOw0KY29uc3Qgcm91dGVyXzEgPSByZXF1aXJlKCJAYW5ndWxhci9yb3V0ZXIiKTsNCmxldCBSZXBvcnRDb21wb25lbnQgPSBjbGFzcyBSZXBvcnRDb21wb25lbnQgew0KICAgIGNvbnN0cnVjdG9yKHJlcG9ydFNlcnZpY2UsIHNhbml0aXplciwgYWN0aXZhdGVkUm91dGUpIHsNCiAgICAgICAgdGhpcy5yZXBvcnRTZXJ2aWNlID0gcmVwb3J0U2VydmljZTsNCiAgICAgICAgdGhpcy5zYW5pdGl6ZXIgPSBzYW5pdGl6ZXI7DQogICAgICAgIHRoaXMuYWN0aXZhdGVkUm91dGUgPSBhY3RpdmF0ZWRSb3V0ZTsNCiAgICB9DQogICAgbmdPbkluaXQoKSB7DQogICAgICAgIHRoaXMuYWN0aXZhdGVkUm91dGUuZGF0YS5zdWJzY3JpYmUoZGF0YSA9PiB7DQogICAgICAgICAgICB0aGlzLnJlcG9ydFR5cGUgPSBkYXRhLnJlcG9ydFR5cGU7DQogICAgICAgICAgICB0aGlzLnJlcG9ydFNlcnZpY2UuZ2V0RGFzaGJvYXJkSW5mbyh0aGlzLnJlcG9ydFR5cGUpLnN1YnNjcmliZShyZXMgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IHJlcy5ib2R5LnVybDsNCiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IHJlcy5ib2R5Lmp3dDsNCiAgICAgICAgICAgICAgICB0aGlzLnJlcG9ydFNyYyA9IHRoaXMuc2FmZVVybCh1cmwgKyAnP190b2tlbj0nICsgdG9rZW4pOw0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXBvcnRTcmMgc2V0IHRvICcgKyB0aGlzLnJlcG9ydFNyYyk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgfQ0KICAgIHNhZmVVcmwodXJsKSB7DQogICAgICAgIHJldHVybiB0aGlzLnNhbml0aXplci5ieXBhc3NTZWN1cml0eVRydXN0UmVzb3VyY2VVcmwodXJsKTsNCiAgICB9DQp9Ow0KUmVwb3J0Q29tcG9uZW50ID0gdHNsaWJfMS5fX2RlY29yYXRlKFsNCiAgICBjb3JlXzEuQ29tcG9uZW50KHsNCiAgICAgICAgc2VsZWN0b3I6ICdqaGktcmVwb3J0JywNCiAgICAgICAgdGVtcGxhdGVVcmw6ICcuL3JlcG9ydC5jb21wb25lbnQuaHRtbCcsDQogICAgICAgIHN0eWxlVXJsczogWydyZXBvcnQuc2NzcyddDQogICAgfSksDQogICAgdHNsaWJfMS5fX21ldGFkYXRhKCJkZXNpZ246cGFyYW10eXBlcyIsIFt0eXBlb2YgKF9hID0gdHlwZW9mIHJlcG9ydF9zZXJ2aWNlXzEuUmVwb3J0U2VydmljZSAhPT0gInVuZGVmaW5lZCIgJiYgcmVwb3J0X3NlcnZpY2VfMS5SZXBvcnRTZXJ2aWNlKSA9PT0gImZ1bmN0aW9uIiA/IF9hIDogT2JqZWN0LCB0eXBlb2YgKF9iID0gdHlwZW9mIHBsYXRmb3JtX2Jyb3dzZXJfMS5Eb21TYW5pdGl6ZXIgIT09ICJ1bmRlZmluZWQiICYmIHBsYXRmb3JtX2Jyb3dzZXJfMS5Eb21TYW5pdGl6ZXIpID09PSAiZnVuY3Rpb24iID8gX2IgOiBPYmplY3QsIHR5cGVvZiAoX2MgPSB0eXBlb2Ygcm91dGVyXzEuQWN0aXZhdGVkUm91dGUgIT09ICJ1bmRlZmluZWQiICYmIHJvdXRlcl8xLkFjdGl2YXRlZFJvdXRlKSA9PT0gImZ1bmN0aW9uIiA/IF9jIDogT2JqZWN0XSkNCl0sIFJlcG9ydENvbXBvbmVudCk7DQpleHBvcnRzLlJlcG9ydENvbXBvbmVudCA9IFJlcG9ydENvbXBvbmVudDsNCg=="},{"version":3,"file":"C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\report\\report.component.ts","sourceRoot":"","sources":["C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular-router-loader\\src\\index.js!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\tslint-loader\\index.js!C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\report\\report.component.ts"],"names":[],"mappings":";;;;AAAA,wCAAkD;AAClD,qDAAiD;AACjD,gEAAyD;AACzD,4CAAiD;AAOjD,IAAa,eAAe,GAA5B,MAAa,eAAe;IAI1B,YAAoB,aAA4B,EAAU,SAAuB,EAAU,cAA8B;QAArG,kBAAa,GAAb,aAAa,CAAe;QAAU,cAAS,GAAT,SAAS,CAAc;QAAU,mBAAc,GAAd,cAAc,CAAgB;IAAG,CAAC;IAE7H,QAAQ;QACN,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;YACxC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YAElC,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;gBACnE,MAAM,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC;gBACzB,MAAM,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC;gBAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,GAAG,UAAU,GAAG,KAAK,CAAC,CAAC;gBACxD,OAAO,CAAC,GAAG,CAAC,mBAAmB,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;YACpD,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,OAAO,CAAC,GAAW;QACjB,OAAO,IAAI,CAAC,SAAS,CAAC,8BAA8B,CAAC,GAAG,CAAC,CAAC;IAC5D,CAAC;CACF,CAAA;AAtBY,eAAe;IAL3B,gBAAS,CAAC;QACT,QAAQ,EAAE,YAAY;QACtB,WAAW,EAAE,yBAAyB;QACtC,SAAS,EAAE,CAAC,aAAa,CAAC;KAC3B,CAAC;iEAKmC,8BAAa,oBAAb,8BAAa,oDAAqB,+BAAY,oBAAZ,+BAAY,oDAA0B,uBAAc,oBAAd,uBAAc;GAJ9G,eAAe,CAsB3B;AAtBY,0CAAe","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ReportService } from './report.service';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'jhi-report',\r\n  templateUrl: './report.component.html',\r\n  styleUrls: ['report.scss']\r\n})\r\nexport class ReportComponent implements OnInit {\r\n  reportSrc: any;\r\n  reportType: string;\r\n\r\n  constructor(private reportService: ReportService, private sanitizer: DomSanitizer, private activatedRoute: ActivatedRoute) {}\r\n\r\n  ngOnInit() {\r\n    this.activatedRoute.data.subscribe(data => {\r\n      this.reportType = data.reportType;\r\n\r\n      this.reportService.getDashboardInfo(this.reportType).subscribe(res => {\r\n        const url = res.body.url;\r\n        const token = res.body.jwt;\r\n        this.reportSrc = this.safeUrl(url + '?_token=' + token);\r\n        console.log('reportSrc set to ' + this.reportSrc);\r\n      });\r\n    });\r\n  }\r\n\r\n  safeUrl(url: string) {\r\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\r\n  }\r\n}\r\n"]}]}
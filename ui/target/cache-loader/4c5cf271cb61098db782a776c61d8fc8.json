{"remainingRequest":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\ts-loader\\index.js??ref--9-3!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular-router-loader\\src\\index.js!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\tslint-loader\\index.js!C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\layouts\\main\\main.component.ts","dependencies":[{"path":"C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\layouts\\main\\main.component.ts","mtime":1663837716102},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular2-template-loader\\index.js","mtime":1663256168388},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663256170419},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1663256168812},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\ts-loader\\index.js","mtime":1663256162409},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular-router-loader\\src\\index.js","mtime":1663256183091},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\tslint-loader\\index.js","mtime":1663256174695}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOw0KT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsNCmNvbnN0IHRzbGliXzEgPSByZXF1aXJlKCJ0c2xpYiIpOw0KdmFyIF9hLCBfYjsNCmNvbnN0IGNvcmVfMSA9IHJlcXVpcmUoIkBhbmd1bGFyL2NvcmUiKTsNCmNvbnN0IHJvdXRlcl8xID0gcmVxdWlyZSgiQGFuZ3VsYXIvcm91dGVyIik7DQpjb25zdCBhcHBfY29uc3RhbnRzXzEgPSByZXF1aXJlKCJhcHAvYXBwLmNvbnN0YW50cyIpOw0KY29uc3QgY29yZV8yID0gcmVxdWlyZSgiYXBwL2NvcmUiKTsNCmxldCBKaGlNYWluQ29tcG9uZW50ID0gY2xhc3MgSmhpTWFpbkNvbXBvbmVudCB7DQogICAgY29uc3RydWN0b3IoamhpTGFuZ3VhZ2VIZWxwZXIsIHJvdXRlcikgew0KICAgICAgICB0aGlzLmpoaUxhbmd1YWdlSGVscGVyID0gamhpTGFuZ3VhZ2VIZWxwZXI7DQogICAgICAgIHRoaXMucm91dGVyID0gcm91dGVyOw0KICAgICAgICB0aGlzLlBST0RfQkFTRV9VUkwgPSAnaHR0cHM6Ly9tZW1iZXItcG9ydGFsLm9yY2lkLm9yZyc7DQogICAgICAgIHRoaXMuYmFzZVVybCA9IGFwcF9jb25zdGFudHNfMS5CQVNFX1VSTDsNCiAgICAgICAgdGhpcy5vcmNpZEJhc2VVcmwgPSBhcHBfY29uc3RhbnRzXzEuT1JDSURfQkFTRV9VUkw7DQogICAgICAgIHRoaXMuaGlkZU5hdiA9IGZhbHNlOw0KICAgIH0NCiAgICBnZXRQYWdlVGl0bGUocm91dGVTbmFwc2hvdCkgew0KICAgICAgICBsZXQgdGl0bGUgPSByb3V0ZVNuYXBzaG90LmRhdGEgJiYgcm91dGVTbmFwc2hvdC5kYXRhWydwYWdlVGl0bGUnXSA/IHJvdXRlU25hcHNob3QuZGF0YVsncGFnZVRpdGxlJ10gOiAnZ2F0ZXdheUFwcCc7DQogICAgICAgIGlmIChyb3V0ZVNuYXBzaG90LmZpcnN0Q2hpbGQpIHsNCiAgICAgICAgICAgIHRpdGxlID0gdGhpcy5nZXRQYWdlVGl0bGUocm91dGVTbmFwc2hvdC5maXJzdENoaWxkKSB8fCB0aXRsZTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gdGl0bGU7DQogICAgfQ0KICAgIG5nT25Jbml0KCkgew0KICAgICAgICB0aGlzLnJvdXRlci5ldmVudHMuc3Vic2NyaWJlKGV2ZW50ID0+IHsNCiAgICAgICAgICAgIGlmIChldmVudCBpbnN0YW5jZW9mIHJvdXRlcl8xLk5hdmlnYXRpb25FbmQpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmpoaUxhbmd1YWdlSGVscGVyLnVwZGF0ZVRpdGxlKHRoaXMuZ2V0UGFnZVRpdGxlKHRoaXMucm91dGVyLnJvdXRlclN0YXRlLnNuYXBzaG90LnJvb3QpKTsNCiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudXJsLmluZGV4T2YoJ2xhbmRpbmctcGFnZScpID4gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlTmF2ID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoZXZlbnQgaW5zdGFuY2VvZiByb3V0ZXJfMS5OYXZpZ2F0aW9uRXJyb3IgJiYgZXZlbnQuZXJyb3Iuc3RhdHVzID09PSA0MDQpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbJy80MDQnXSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0NCn07DQpKaGlNYWluQ29tcG9uZW50ID0gdHNsaWJfMS5fX2RlY29yYXRlKFsNCiAgICBjb3JlXzEuQ29tcG9uZW50KHsNCiAgICAgICAgc2VsZWN0b3I6ICdqaGktbWFpbicsDQogICAgICAgIHRlbXBsYXRlVXJsOiAnLi9tYWluLmNvbXBvbmVudC5odG1sJywNCiAgICAgICAgc3R5bGVzOiBbJzpob3N0IHtkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGhlaWdodDoxMDAlO30nXQ0KICAgIH0pLA0KICAgIHRzbGliXzEuX19tZXRhZGF0YSgiZGVzaWduOnBhcmFtdHlwZXMiLCBbdHlwZW9mIChfYSA9IHR5cGVvZiBjb3JlXzIuSmhpTGFuZ3VhZ2VIZWxwZXIgIT09ICJ1bmRlZmluZWQiICYmIGNvcmVfMi5KaGlMYW5ndWFnZUhlbHBlcikgPT09ICJmdW5jdGlvbiIgPyBfYSA6IE9iamVjdCwgdHlwZW9mIChfYiA9IHR5cGVvZiByb3V0ZXJfMS5Sb3V0ZXIgIT09ICJ1bmRlZmluZWQiICYmIHJvdXRlcl8xLlJvdXRlcikgPT09ICJmdW5jdGlvbiIgPyBfYiA6IE9iamVjdF0pDQpdLCBKaGlNYWluQ29tcG9uZW50KTsNCmV4cG9ydHMuSmhpTWFpbkNvbXBvbmVudCA9IEpoaU1haW5Db21wb25lbnQ7DQo="},{"version":3,"file":"C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\layouts\\main\\main.component.ts","sourceRoot":"","sources":["C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular-router-loader\\src\\index.js!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\tslint-loader\\index.js!C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\layouts\\main\\main.component.ts"],"names":[],"mappings":";;;;AAAA,wCAAkD;AAClD,4CAAiG;AACjG,qDAA6D;AAE7D,mCAA6C;AAO7C,IAAa,gBAAgB,GAA7B,MAAa,gBAAgB;IAK3B,YAAoB,iBAAoC,EAAU,MAAc;QAA5D,sBAAiB,GAAjB,iBAAiB,CAAmB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAJhF,kBAAa,GAAG,iCAAiC,CAAC;QAClD,YAAO,GAAW,wBAAQ,CAAC;QAC3B,iBAAY,GAAW,8BAAc,CAAC;QACtC,YAAO,GAAY,KAAK,CAAC;IAC0D,CAAC;IAE5E,YAAY,CAAC,aAAqC;QACxD,IAAI,KAAK,GAAW,aAAa,CAAC,IAAI,IAAI,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC;QAC3H,IAAI,aAAa,CAAC,UAAU,EAAE;YAC5B,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC;SAC9D;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACnC,IAAI,KAAK,YAAY,sBAAa,EAAE;gBAClC,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC7F,IAAI,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,EAAE;oBAC1C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;iBACrB;aACF;YACD,IAAI,KAAK,YAAY,wBAAe,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,KAAK,GAAG,EAAE;gBAClE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;aAChC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;CACF,CAAA;AA5BY,gBAAgB;IAL5B,gBAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACpB,WAAW,EAAE,uBAAuB;QACpC,MAAM,EAAE,CAAC,4DAA4D,CAAC;KACvE,CAAC;iEAMuC,wBAAiB,oBAAjB,wBAAiB,oDAAkB,eAAM,oBAAN,eAAM;GALrE,gBAAgB,CA4B5B;AA5BY,4CAAgB","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRouteSnapshot, NavigationEnd, NavigationError } from '@angular/router';\r\nimport { BASE_URL, ORCID_BASE_URL } from 'app/app.constants';\r\n\r\nimport { JhiLanguageHelper } from 'app/core';\r\n\r\n@Component({\r\n  selector: 'jhi-main',\r\n  templateUrl: './main.component.html',\r\n  styles: [':host {display:flex; flex-direction: column; height:100%;}']\r\n})\r\nexport class JhiMainComponent implements OnInit {\r\n  PROD_BASE_URL = 'https://member-portal.orcid.org';\r\n  baseUrl: string = BASE_URL;\r\n  orcidBaseUrl: string = ORCID_BASE_URL;\r\n  hideNav: Boolean = false;\r\n  constructor(private jhiLanguageHelper: JhiLanguageHelper, private router: Router) {}\r\n\r\n  private getPageTitle(routeSnapshot: ActivatedRouteSnapshot) {\r\n    let title: string = routeSnapshot.data && routeSnapshot.data['pageTitle'] ? routeSnapshot.data['pageTitle'] : 'gatewayApp';\r\n    if (routeSnapshot.firstChild) {\r\n      title = this.getPageTitle(routeSnapshot.firstChild) || title;\r\n    }\r\n    return title;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.router.events.subscribe(event => {\r\n      if (event instanceof NavigationEnd) {\r\n        this.jhiLanguageHelper.updateTitle(this.getPageTitle(this.router.routerState.snapshot.root));\r\n        if (event.url.indexOf('landing-page') > -1) {\r\n          this.hideNav = true;\r\n        }\r\n      }\r\n      if (event instanceof NavigationError && event.error.status === 404) {\r\n        this.router.navigate(['/404']);\r\n      }\r\n    });\r\n  }\r\n}\r\n"]}]}
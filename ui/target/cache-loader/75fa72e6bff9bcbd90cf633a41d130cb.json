{"remainingRequest":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\ts-loader\\index.js??ref--9-3!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular-router-loader\\src\\index.js!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\tslint-loader\\index.js!C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\shared\\auth\\has-any-authority.directive.ts","dependencies":[{"path":"C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\shared\\auth\\has-any-authority.directive.ts","mtime":1663837716153},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular2-template-loader\\index.js","mtime":1663256168388},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663256170419},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1663256168812},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\ts-loader\\index.js","mtime":1663256162409},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular-router-loader\\src\\index.js","mtime":1663256183091},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\tslint-loader\\index.js","mtime":1663256174695}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOw0KT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsNCmNvbnN0IHRzbGliXzEgPSByZXF1aXJlKCJ0c2xpYiIpOw0KdmFyIF9hLCBfYiwgX2M7DQpjb25zdCBjb3JlXzEgPSByZXF1aXJlKCJAYW5ndWxhci9jb3JlIik7DQpjb25zdCBhY2NvdW50X3NlcnZpY2VfMSA9IHJlcXVpcmUoImFwcC9jb3JlL2F1dGgvYWNjb3VudC5zZXJ2aWNlIik7DQovKioNCiAqIEB3aGF0SXREb2VzIENvbmRpdGlvbmFsbHkgaW5jbHVkZXMgYW4gSFRNTCBlbGVtZW50IGlmIGN1cnJlbnQgdXNlciBoYXMgYW55DQogKiBvZiB0aGUgYXV0aG9yaXRpZXMgcGFzc2VkIGFzIHRoZSBgZXhwcmVzc2lvbmAuDQogKg0KICogQGhvd1RvVXNlDQogKiBgYGANCiAqICAgICA8c29tZS1lbGVtZW50ICpqaGlIYXNBbnlBdXRob3JpdHk9IidST0xFX0FETUlOJyI+Li4uPC9zb21lLWVsZW1lbnQ+DQogKg0KICogICAgIDxzb21lLWVsZW1lbnQgKmpoaUhhc0FueUF1dGhvcml0eT0iWydST0xFX0FETUlOJywgJ1JPTEVfVVNFUiddIj4uLi48L3NvbWUtZWxlbWVudD4NCiAqIGBgYA0KICovDQpsZXQgSGFzQW55QXV0aG9yaXR5RGlyZWN0aXZlID0gY2xhc3MgSGFzQW55QXV0aG9yaXR5RGlyZWN0aXZlIHsNCiAgICBjb25zdHJ1Y3RvcihhY2NvdW50U2VydmljZSwgdGVtcGxhdGVSZWYsIHZpZXdDb250YWluZXJSZWYpIHsNCiAgICAgICAgdGhpcy5hY2NvdW50U2VydmljZSA9IGFjY291bnRTZXJ2aWNlOw0KICAgICAgICB0aGlzLnRlbXBsYXRlUmVmID0gdGVtcGxhdGVSZWY7DQogICAgICAgIHRoaXMudmlld0NvbnRhaW5lclJlZiA9IHZpZXdDb250YWluZXJSZWY7DQogICAgfQ0KICAgIHNldCBqaGlIYXNBbnlBdXRob3JpdHkodmFsdWUpIHsNCiAgICAgICAgdGhpcy5hdXRob3JpdGllcyA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBbdmFsdWVdIDogdmFsdWU7DQogICAgICAgIHRoaXMudXBkYXRlVmlldygpOw0KICAgICAgICAvLyBHZXQgbm90aWZpZWQgZWFjaCB0aW1lIGF1dGhlbnRpY2F0aW9uIHN0YXRlIGNoYW5nZXMuDQogICAgICAgIHRoaXMuYWNjb3VudFNlcnZpY2UuZ2V0QXV0aGVudGljYXRpb25TdGF0ZSgpLnN1YnNjcmliZShpZGVudGl0eSA9PiB0aGlzLnVwZGF0ZVZpZXcoKSk7DQogICAgfQ0KICAgIHVwZGF0ZVZpZXcoKSB7DQogICAgICAgIGNvbnN0IGhhc0FueUF1dGhvcml0eSA9IHRoaXMuYWNjb3VudFNlcnZpY2UuaGFzQW55QXV0aG9yaXR5KHRoaXMuYXV0aG9yaXRpZXMpOw0KICAgICAgICB0aGlzLnZpZXdDb250YWluZXJSZWYuY2xlYXIoKTsNCiAgICAgICAgaWYgKGhhc0FueUF1dGhvcml0eSkgew0KICAgICAgICAgICAgdGhpcy52aWV3Q29udGFpbmVyUmVmLmNyZWF0ZUVtYmVkZGVkVmlldyh0aGlzLnRlbXBsYXRlUmVmKTsNCiAgICAgICAgfQ0KICAgIH0NCn07DQp0c2xpYl8xLl9fZGVjb3JhdGUoWw0KICAgIGNvcmVfMS5JbnB1dCgpLA0KICAgIHRzbGliXzEuX19tZXRhZGF0YSgiZGVzaWduOnR5cGUiLCBPYmplY3QpLA0KICAgIHRzbGliXzEuX19tZXRhZGF0YSgiZGVzaWduOnBhcmFtdHlwZXMiLCBbT2JqZWN0XSkNCl0sIEhhc0FueUF1dGhvcml0eURpcmVjdGl2ZS5wcm90b3R5cGUsICJqaGlIYXNBbnlBdXRob3JpdHkiLCBudWxsKTsNCkhhc0FueUF1dGhvcml0eURpcmVjdGl2ZSA9IHRzbGliXzEuX19kZWNvcmF0ZShbDQogICAgY29yZV8xLkRpcmVjdGl2ZSh7DQogICAgICAgIHNlbGVjdG9yOiAnW2poaUhhc0FueUF1dGhvcml0eV0nDQogICAgfSksDQogICAgdHNsaWJfMS5fX21ldGFkYXRhKCJkZXNpZ246cGFyYW10eXBlcyIsIFt0eXBlb2YgKF9hID0gdHlwZW9mIGFjY291bnRfc2VydmljZV8xLkFjY291bnRTZXJ2aWNlICE9PSAidW5kZWZpbmVkIiAmJiBhY2NvdW50X3NlcnZpY2VfMS5BY2NvdW50U2VydmljZSkgPT09ICJmdW5jdGlvbiIgPyBfYSA6IE9iamVjdCwgdHlwZW9mIChfYiA9IHR5cGVvZiBjb3JlXzEuVGVtcGxhdGVSZWYgIT09ICJ1bmRlZmluZWQiICYmIGNvcmVfMS5UZW1wbGF0ZVJlZikgPT09ICJmdW5jdGlvbiIgPyBfYiA6IE9iamVjdCwgdHlwZW9mIChfYyA9IHR5cGVvZiBjb3JlXzEuVmlld0NvbnRhaW5lclJlZiAhPT0gInVuZGVmaW5lZCIgJiYgY29yZV8xLlZpZXdDb250YWluZXJSZWYpID09PSAiZnVuY3Rpb24iID8gX2MgOiBPYmplY3RdKQ0KXSwgSGFzQW55QXV0aG9yaXR5RGlyZWN0aXZlKTsNCmV4cG9ydHMuSGFzQW55QXV0aG9yaXR5RGlyZWN0aXZlID0gSGFzQW55QXV0aG9yaXR5RGlyZWN0aXZlOw0K"},{"version":3,"file":"C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\shared\\auth\\has-any-authority.directive.ts","sourceRoot":"","sources":["C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular-router-loader\\src\\index.js!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\tslint-loader\\index.js!C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\shared\\auth\\has-any-authority.directive.ts"],"names":[],"mappings":";;;;AAAA,wCAAgF;AAChF,mEAA+D;AAE/D;;;;;;;;;;GAUG;AAIH,IAAa,wBAAwB,GAArC,MAAa,wBAAwB;IAGnC,YAAoB,cAA8B,EAAU,WAA6B,EAAU,gBAAkC;QAAjH,mBAAc,GAAd,cAAc,CAAgB;QAAU,gBAAW,GAAX,WAAW,CAAkB;QAAU,qBAAgB,GAAhB,gBAAgB,CAAkB;IAAG,CAAC;IAGzI,IAAI,kBAAkB,CAAC,KAAwB;QAC7C,IAAI,CAAC,WAAW,GAAG,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QAC/D,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,uDAAuD;QACvD,IAAI,CAAC,cAAc,CAAC,sBAAsB,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;IACxF,CAAC;IAEO,UAAU;QAChB,MAAM,eAAe,GAAG,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC9E,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;QAC9B,IAAI,eAAe,EAAE;YACnB,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAC5D;IACH,CAAC;CACF,CAAA;AAdC;IADC,YAAK,EAAE;;;kEAMP;AAXU,wBAAwB;IAHpC,gBAAS,CAAC;QACT,QAAQ,EAAE,sBAAsB;KACjC,CAAC;iEAIoC,gCAAc,oBAAd,gCAAc,oDAAuB,kBAAW,oBAAX,kBAAW,oDAAiC,uBAAgB,oBAAhB,uBAAgB;GAH1H,wBAAwB,CAoBpC;AApBY,4DAAwB","sourcesContent":["import { Directive, Input, TemplateRef, ViewContainerRef } from '@angular/core';\r\nimport { AccountService } from 'app/core/auth/account.service';\r\n\r\n/**\r\n * @whatItDoes Conditionally includes an HTML element if current user has any\r\n * of the authorities passed as the `expression`.\r\n *\r\n * @howToUse\r\n * ```\r\n *     <some-element *jhiHasAnyAuthority=\"'ROLE_ADMIN'\">...</some-element>\r\n *\r\n *     <some-element *jhiHasAnyAuthority=\"['ROLE_ADMIN', 'ROLE_USER']\">...</some-element>\r\n * ```\r\n */\r\n@Directive({\r\n  selector: '[jhiHasAnyAuthority]'\r\n})\r\nexport class HasAnyAuthorityDirective {\r\n  private authorities: string[];\r\n\r\n  constructor(private accountService: AccountService, private templateRef: TemplateRef<any>, private viewContainerRef: ViewContainerRef) {}\r\n\r\n  @Input()\r\n  set jhiHasAnyAuthority(value: string | string[]) {\r\n    this.authorities = typeof value === 'string' ? [value] : value;\r\n    this.updateView();\r\n    // Get notified each time authentication state changes.\r\n    this.accountService.getAuthenticationState().subscribe(identity => this.updateView());\r\n  }\r\n\r\n  private updateView(): void {\r\n    const hasAnyAuthority = this.accountService.hasAnyAuthority(this.authorities);\r\n    this.viewContainerRef.clear();\r\n    if (hasAnyAuthority) {\r\n      this.viewContainerRef.createEmbeddedView(this.templateRef);\r\n    }\r\n  }\r\n}\r\n"]}]}
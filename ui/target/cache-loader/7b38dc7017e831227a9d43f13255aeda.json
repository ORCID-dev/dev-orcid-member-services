{"remainingRequest":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\ts-loader\\index.js??ref--9-3!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular-router-loader\\src\\index.js!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\tslint-loader\\index.js!C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\core\\login\\login.service.ts","dependencies":[{"path":"C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\core\\login\\login.service.ts","mtime":1663837715888},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular2-template-loader\\index.js","mtime":1663256168388},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663256170419},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1663256168812},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\ts-loader\\index.js","mtime":1663256162409},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular-router-loader\\src\\index.js","mtime":1663256183091},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\tslint-loader\\index.js","mtime":1663256174695}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOw0KT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsNCmNvbnN0IHRzbGliXzEgPSByZXF1aXJlKCJ0c2xpYiIpOw0KdmFyIF9hLCBfYjsNCmNvbnN0IGNvcmVfMSA9IHJlcXVpcmUoIkBhbmd1bGFyL2NvcmUiKTsNCmNvbnN0IGFjY291bnRfc2VydmljZV8xID0gcmVxdWlyZSgiYXBwL2NvcmUvYXV0aC9hY2NvdW50LnNlcnZpY2UiKTsNCmNvbnN0IGF1dGhfand0X3NlcnZpY2VfMSA9IHJlcXVpcmUoImFwcC9jb3JlL2F1dGgvYXV0aC1qd3Quc2VydmljZSIpOw0KbGV0IExvZ2luU2VydmljZSA9IGNsYXNzIExvZ2luU2VydmljZSB7DQogICAgY29uc3RydWN0b3IoYWNjb3VudFNlcnZpY2UsIGF1dGhTZXJ2ZXJQcm92aWRlcikgew0KICAgICAgICB0aGlzLmFjY291bnRTZXJ2aWNlID0gYWNjb3VudFNlcnZpY2U7DQogICAgICAgIHRoaXMuYXV0aFNlcnZlclByb3ZpZGVyID0gYXV0aFNlcnZlclByb3ZpZGVyOw0KICAgIH0NCiAgICBsb2dpbihjcmVkZW50aWFscykgew0KICAgICAgICByZXR1cm4gdGhpcy5hdXRoU2VydmVyUHJvdmlkZXIubG9naW4oY3JlZGVudGlhbHMpOw0KICAgIH0NCiAgICBpc0F1dGhlbnRpY2F0ZWQoKSB7DQogICAgICAgIHJldHVybiB0aGlzLmFjY291bnRTZXJ2aWNlLmlzQXV0aGVudGljYXRlZCgpOw0KICAgIH0NCiAgICBsb2dvdXREaXJlY3RseSgpIHsNCiAgICAgICAgdGhpcy5hY2NvdW50U2VydmljZS5hdXRoZW50aWNhdGUobnVsbCk7DQogICAgfQ0KICAgIGxvZ291dCgpIHsNCiAgICAgICAgaWYgKHRoaXMuYWNjb3VudFNlcnZpY2UuaXNBdXRoZW50aWNhdGVkKCkpIHsNCiAgICAgICAgICAgIHRoaXMuYXV0aFNlcnZlclByb3ZpZGVyLmxvZ291dCgpLnN1YnNjcmliZSgoKSA9PiB0aGlzLmFjY291bnRTZXJ2aWNlLmF1dGhlbnRpY2F0ZShudWxsKSk7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgICB0aGlzLmFjY291bnRTZXJ2aWNlLmF1dGhlbnRpY2F0ZShudWxsKTsNCiAgICAgICAgfQ0KICAgIH0NCn07DQpMb2dpblNlcnZpY2UgPSB0c2xpYl8xLl9fZGVjb3JhdGUoWw0KICAgIGNvcmVfMS5JbmplY3RhYmxlKHsgcHJvdmlkZWRJbjogJ3Jvb3QnIH0pLA0KICAgIHRzbGliXzEuX19tZXRhZGF0YSgiZGVzaWduOnBhcmFtdHlwZXMiLCBbdHlwZW9mIChfYSA9IHR5cGVvZiBhY2NvdW50X3NlcnZpY2VfMS5BY2NvdW50U2VydmljZSAhPT0gInVuZGVmaW5lZCIgJiYgYWNjb3VudF9zZXJ2aWNlXzEuQWNjb3VudFNlcnZpY2UpID09PSAiZnVuY3Rpb24iID8gX2EgOiBPYmplY3QsIHR5cGVvZiAoX2IgPSB0eXBlb2YgYXV0aF9qd3Rfc2VydmljZV8xLkF1dGhTZXJ2ZXJQcm92aWRlciAhPT0gInVuZGVmaW5lZCIgJiYgYXV0aF9qd3Rfc2VydmljZV8xLkF1dGhTZXJ2ZXJQcm92aWRlcikgPT09ICJmdW5jdGlvbiIgPyBfYiA6IE9iamVjdF0pDQpdLCBMb2dpblNlcnZpY2UpOw0KZXhwb3J0cy5Mb2dpblNlcnZpY2UgPSBMb2dpblNlcnZpY2U7DQo="},{"version":3,"file":"C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\core\\login\\login.service.ts","sourceRoot":"","sources":["C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular-router-loader\\src\\index.js!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\tslint-loader\\index.js!C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\core\\login\\login.service.ts"],"names":[],"mappings":";;;;AAAA,wCAA2C;AAC3C,mEAA+D;AAC/D,qEAAoE;AAIpE,IAAa,YAAY,GAAzB,MAAa,YAAY;IACvB,YAAoB,cAA8B,EAAU,kBAAsC;QAA9E,mBAAc,GAAd,cAAc,CAAgB;QAAU,uBAAkB,GAAlB,kBAAkB,CAAoB;IAAG,CAAC;IAEtG,KAAK,CAAC,WAAW;QACf,OAAO,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;IACpD,CAAC;IAED,eAAe;QACb,OAAO,IAAI,CAAC,cAAc,CAAC,eAAe,EAAE,CAAC;IAC/C,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,cAAc,CAAC,eAAe,EAAE,EAAE;YACzC,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;SAC1F;aAAM;YACL,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;SACxC;IACH,CAAC;CACF,CAAA;AAtBY,YAAY;IADxB,iBAAU,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC;iEAEG,gCAAc,oBAAd,gCAAc,oDAA8B,qCAAkB,oBAAlB,qCAAkB;GADvF,YAAY,CAsBxB;AAtBY,oCAAY","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { AccountService } from 'app/core/auth/account.service';\r\nimport { AuthServerProvider } from 'app/core/auth/auth-jwt.service';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class LoginService {\r\n  constructor(private accountService: AccountService, private authServerProvider: AuthServerProvider) {}\r\n\r\n  login(credentials): Observable<any> {\r\n    return this.authServerProvider.login(credentials);\r\n  }\r\n\r\n  isAuthenticated() {\r\n    return this.accountService.isAuthenticated();\r\n  }\r\n\r\n  logoutDirectly() {\r\n    this.accountService.authenticate(null);\r\n  }\r\n\r\n  logout() {\r\n    if (this.accountService.isAuthenticated()) {\r\n      this.authServerProvider.logout().subscribe(() => this.accountService.authenticate(null));\r\n    } else {\r\n      this.accountService.authenticate(null);\r\n    }\r\n  }\r\n}\r\n"]}]}
{"remainingRequest":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\ts-loader\\index.js??ref--9-3!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular-router-loader\\src\\index.js!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\tslint-loader\\index.js!C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\account\\password\\password.component.ts","dependencies":[{"path":"C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\account\\password\\password.component.ts","mtime":1663837715732},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular2-template-loader\\index.js","mtime":1663256168388},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663256170419},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1663256168812},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\ts-loader\\index.js","mtime":1663256162409},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular-router-loader\\src\\index.js","mtime":1663256183091},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\tslint-loader\\index.js","mtime":1663256174695}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOw0KT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsNCmNvbnN0IHRzbGliXzEgPSByZXF1aXJlKCJ0c2xpYiIpOw0KdmFyIF9hLCBfYiwgX2M7DQpjb25zdCBjb3JlXzEgPSByZXF1aXJlKCJAYW5ndWxhci9jb3JlIik7DQpjb25zdCBmb3Jtc18xID0gcmVxdWlyZSgiQGFuZ3VsYXIvZm9ybXMiKTsNCmNvbnN0IGNvcmVfMiA9IHJlcXVpcmUoImFwcC9jb3JlIik7DQpjb25zdCBwYXNzd29yZF9zZXJ2aWNlXzEgPSByZXF1aXJlKCIuL3Bhc3N3b3JkLnNlcnZpY2UiKTsNCmxldCBQYXNzd29yZENvbXBvbmVudCA9IGNsYXNzIFBhc3N3b3JkQ29tcG9uZW50IHsNCiAgICBjb25zdHJ1Y3RvcihwYXNzd29yZFNlcnZpY2UsIGFjY291bnRTZXJ2aWNlLCBmYikgew0KICAgICAgICB0aGlzLnBhc3N3b3JkU2VydmljZSA9IHBhc3N3b3JkU2VydmljZTsNCiAgICAgICAgdGhpcy5hY2NvdW50U2VydmljZSA9IGFjY291bnRTZXJ2aWNlOw0KICAgICAgICB0aGlzLmZiID0gZmI7DQogICAgICAgIHRoaXMucGFzc3dvcmRGb3JtID0gdGhpcy5mYi5ncm91cCh7DQogICAgICAgICAgICBjdXJyZW50UGFzc3dvcmQ6IFsnJywgW2Zvcm1zXzEuVmFsaWRhdG9ycy5yZXF1aXJlZF1dLA0KICAgICAgICAgICAgbmV3UGFzc3dvcmQ6IFsnJywgW2Zvcm1zXzEuVmFsaWRhdG9ycy5yZXF1aXJlZCwgZm9ybXNfMS5WYWxpZGF0b3JzLm1pbkxlbmd0aCg0KSwgZm9ybXNfMS5WYWxpZGF0b3JzLm1heExlbmd0aCg1MCldXSwNCiAgICAgICAgICAgIGNvbmZpcm1QYXNzd29yZDogWycnLCBbZm9ybXNfMS5WYWxpZGF0b3JzLnJlcXVpcmVkLCBmb3Jtc18xLlZhbGlkYXRvcnMubWluTGVuZ3RoKDQpLCBmb3Jtc18xLlZhbGlkYXRvcnMubWF4TGVuZ3RoKDUwKV1dDQogICAgICAgIH0pOw0KICAgIH0NCiAgICBuZ09uSW5pdCgpIHsNCiAgICAgICAgdGhpcy5hY2NvdW50U2VydmljZS5pZGVudGl0eSgpLnRoZW4oYWNjb3VudCA9PiB7DQogICAgICAgICAgICB0aGlzLmFjY291bnQgPSBhY2NvdW50Ow0KICAgICAgICAgICAgdGhpcy51c2VyTmFtZSA9IHRoaXMuYWNjb3VudFNlcnZpY2UuZ2V0VXNlck5hbWUoKTsNCiAgICAgICAgfSk7DQogICAgfQ0KICAgIGNoYW5nZVBhc3N3b3JkKCkgew0KICAgICAgICBjb25zdCBuZXdQYXNzd29yZCA9IHRoaXMucGFzc3dvcmRGb3JtLmdldChbJ25ld1Bhc3N3b3JkJ10pLnZhbHVlOw0KICAgICAgICBpZiAobmV3UGFzc3dvcmQgIT09IHRoaXMucGFzc3dvcmRGb3JtLmdldChbJ2NvbmZpcm1QYXNzd29yZCddKS52YWx1ZSkgew0KICAgICAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7DQogICAgICAgICAgICB0aGlzLnN1Y2Nlc3MgPSBudWxsOw0KICAgICAgICAgICAgdGhpcy5kb05vdE1hdGNoID0gJ0VSUk9SJzsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuZG9Ob3RNYXRjaCA9IG51bGw7DQogICAgICAgICAgICB0aGlzLnBhc3N3b3JkU2VydmljZS5zYXZlKG5ld1Bhc3N3b3JkLCB0aGlzLnBhc3N3b3JkRm9ybS5nZXQoWydjdXJyZW50UGFzc3dvcmQnXSkudmFsdWUpLnN1YnNjcmliZSgoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7DQogICAgICAgICAgICAgICAgdGhpcy5zdWNjZXNzID0gJ09LJzsNCiAgICAgICAgICAgIH0sICgpID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLnN1Y2Nlc3MgPSBudWxsOw0KICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSAnRVJST1InOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICB9DQp9Ow0KUGFzc3dvcmRDb21wb25lbnQgPSB0c2xpYl8xLl9fZGVjb3JhdGUoWw0KICAgIGNvcmVfMS5Db21wb25lbnQoew0KICAgICAgICBzZWxlY3RvcjogJ2poaS1wYXNzd29yZCcsDQogICAgICAgIHRlbXBsYXRlVXJsOiAnLi9wYXNzd29yZC5jb21wb25lbnQuaHRtbCcNCiAgICB9KSwNCiAgICB0c2xpYl8xLl9fbWV0YWRhdGEoImRlc2lnbjpwYXJhbXR5cGVzIiwgW3R5cGVvZiAoX2EgPSB0eXBlb2YgcGFzc3dvcmRfc2VydmljZV8xLlBhc3N3b3JkU2VydmljZSAhPT0gInVuZGVmaW5lZCIgJiYgcGFzc3dvcmRfc2VydmljZV8xLlBhc3N3b3JkU2VydmljZSkgPT09ICJmdW5jdGlvbiIgPyBfYSA6IE9iamVjdCwgdHlwZW9mIChfYiA9IHR5cGVvZiBjb3JlXzIuQWNjb3VudFNlcnZpY2UgIT09ICJ1bmRlZmluZWQiICYmIGNvcmVfMi5BY2NvdW50U2VydmljZSkgPT09ICJmdW5jdGlvbiIgPyBfYiA6IE9iamVjdCwgdHlwZW9mIChfYyA9IHR5cGVvZiBmb3Jtc18xLkZvcm1CdWlsZGVyICE9PSAidW5kZWZpbmVkIiAmJiBmb3Jtc18xLkZvcm1CdWlsZGVyKSA9PT0gImZ1bmN0aW9uIiA/IF9jIDogT2JqZWN0XSkNCl0sIFBhc3N3b3JkQ29tcG9uZW50KTsNCmV4cG9ydHMuUGFzc3dvcmRDb21wb25lbnQgPSBQYXNzd29yZENvbXBvbmVudDsNCg=="},{"version":3,"file":"C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\account\\password\\password.component.ts","sourceRoot":"","sources":["C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular-router-loader\\src\\index.js!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\tslint-loader\\index.js!C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\account\\password\\password.component.ts"],"names":[],"mappings":";;;;AAAA,wCAAkD;AAClD,0CAAoE;AAEpE,mCAA0C;AAC1C,yDAAqD;AAMrD,IAAa,iBAAiB,GAA9B,MAAa,iBAAiB;IAY5B,YAAoB,eAAgC,EAAU,cAA8B,EAAU,EAAe;QAAjG,oBAAe,GAAf,eAAe,CAAiB;QAAU,mBAAc,GAAd,cAAc,CAAgB;QAAU,OAAE,GAAF,EAAE,CAAa;QANrH,iBAAY,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAC3B,eAAe,EAAE,CAAC,EAAE,EAAE,CAAC,kBAAU,CAAC,QAAQ,CAAC,CAAC;YAC5C,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,kBAAU,CAAC,QAAQ,EAAE,kBAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,kBAAU,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;YAC3F,eAAe,EAAE,CAAC,EAAE,EAAE,CAAC,kBAAU,CAAC,QAAQ,EAAE,kBAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,kBAAU,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;SAChG,CAAC,CAAC;IAEqH,CAAC;IAEzH,QAAQ;QACN,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;YAC5C,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACvB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;QACpD,CAAC,CAAC,CAAC;IACL,CAAC;IAED,cAAc;QACZ,MAAM,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC;QACjE,IAAI,WAAW,KAAK,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,KAAK,EAAE;YACpE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC;SAC3B;aAAM;YACL,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,SAAS,CAChG,GAAG,EAAE;gBACH,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;gBAClB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACtB,CAAC,EACD,GAAG,EAAE;gBACH,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC;YACvB,CAAC,CACF,CAAC;SACH;IACH,CAAC;CACF,CAAA;AAzCY,iBAAiB;IAJ7B,gBAAS,CAAC;QACT,QAAQ,EAAE,cAAc;QACxB,WAAW,EAAE,2BAA2B;KACzC,CAAC;iEAaqC,kCAAe,oBAAf,kCAAe,oDAA0B,qBAAc,oBAAd,qBAAc,oDAAc,mBAAW,oBAAX,mBAAW;GAZ1G,iBAAiB,CAyC7B;AAzCY,8CAAiB","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n\r\nimport { AccountService } from 'app/core';\r\nimport { PasswordService } from './password.service';\r\n\r\n@Component({\r\n  selector: 'jhi-password',\r\n  templateUrl: './password.component.html'\r\n})\r\nexport class PasswordComponent implements OnInit {\r\n  doNotMatch: string;\r\n  error: string;\r\n  success: string;\r\n  account: any;\r\n  userName: string;\r\n  passwordForm = this.fb.group({\r\n    currentPassword: ['', [Validators.required]],\r\n    newPassword: ['', [Validators.required, Validators.minLength(4), Validators.maxLength(50)]],\r\n    confirmPassword: ['', [Validators.required, Validators.minLength(4), Validators.maxLength(50)]]\r\n  });\r\n\r\n  constructor(private passwordService: PasswordService, private accountService: AccountService, private fb: FormBuilder) {}\r\n\r\n  ngOnInit() {\r\n    this.accountService.identity().then(account => {\r\n      this.account = account;\r\n      this.userName = this.accountService.getUserName();\r\n    });\r\n  }\r\n\r\n  changePassword() {\r\n    const newPassword = this.passwordForm.get(['newPassword']).value;\r\n    if (newPassword !== this.passwordForm.get(['confirmPassword']).value) {\r\n      this.error = null;\r\n      this.success = null;\r\n      this.doNotMatch = 'ERROR';\r\n    } else {\r\n      this.doNotMatch = null;\r\n      this.passwordService.save(newPassword, this.passwordForm.get(['currentPassword']).value).subscribe(\r\n        () => {\r\n          this.error = null;\r\n          this.success = 'OK';\r\n        },\r\n        () => {\r\n          this.success = null;\r\n          this.error = 'ERROR';\r\n        }\r\n      );\r\n    }\r\n  }\r\n}\r\n"]}]}
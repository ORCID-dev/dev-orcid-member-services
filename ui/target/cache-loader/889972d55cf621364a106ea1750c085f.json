{"remainingRequest":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\ts-loader\\index.js??ref--9-3!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular-router-loader\\src\\index.js!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\tslint-loader\\index.js!C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\home\\home.component.ts","dependencies":[{"path":"C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\home\\home.component.ts","mtime":1666941215960},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular2-template-loader\\index.js","mtime":1663256168388},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663256170419},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1663256168812},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\ts-loader\\index.js","mtime":1663256162409},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular-router-loader\\src\\index.js","mtime":1663256183091},{"path":"C:\\prgr\\orcid-member-services\\gateway\\node_modules\\tslint-loader\\index.js","mtime":1663256174695}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOw0KT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsNCmNvbnN0IHRzbGliXzEgPSByZXF1aXJlKCJ0c2xpYiIpOw0KdmFyIF9hOw0KY29uc3QgY29yZV8xID0gcmVxdWlyZSgiQGFuZ3VsYXIvY29yZSIpOw0KY29uc3QgY29yZV8yID0gcmVxdWlyZSgiYXBwL2NvcmUiKTsNCmxldCBIb21lQ29tcG9uZW50ID0gY2xhc3MgSG9tZUNvbXBvbmVudCB7DQogICAgY29uc3RydWN0b3IoYWNjb3VudFNlcnZpY2UpIHsNCiAgICAgICAgdGhpcy5hY2NvdW50U2VydmljZSA9IGFjY291bnRTZXJ2aWNlOw0KICAgICAgICB0aGlzLm1lbWJlckRhdGFMb2FkZWQgPSBmYWxzZTsNCiAgICAgICAgdGhpcy5mZXRjaGluZ01lbWJlckRhdGEgPSBmYWxzZTsNCiAgICB9DQogICAgbmdPbkluaXQoKSB7DQogICAgICAgIHRoaXMuYWNjb3VudFNlcnZpY2UuZ2V0QXV0aGVudGljYXRpb25TdGF0ZSgpLnN1YnNjcmliZShhY2NvdW50ID0+IHsNCiAgICAgICAgICAgIHRoaXMuYWNjb3VudCA9IGFjY291bnQ7DQogICAgICAgICAgICB0aGlzLmdldE1lbWJlckRhdGEoKTsNCiAgICAgICAgfSk7DQogICAgICAgIHRoaXMuYWNjb3VudFNlcnZpY2UuaWRlbnRpdHkoKS50aGVuKChhY2NvdW50KSA9PiB7DQogICAgICAgICAgICB0aGlzLmFjY291bnQgPSBhY2NvdW50Ow0KICAgICAgICAgICAgaWYgKCF0aGlzLmZldGNoaW5nTWVtYmVyRGF0YSkgew0KICAgICAgICAgICAgICAgIHRoaXMuZ2V0TWVtYmVyRGF0YSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9DQogICAgZ2V0TWVtYmVyRGF0YSgpIHsNCiAgICAgICAgdGhpcy5mZXRjaGluZ01lbWJlckRhdGEgPSB0cnVlOw0KICAgICAgICBpZiAodGhpcy5hY2NvdW50ID09PSBudWxsKSB7DQogICAgICAgICAgICB0aGlzLm1lbWJlckRhdGFMb2FkZWQgPSBmYWxzZTsNCiAgICAgICAgICAgIHRoaXMubWVtYmVyRGF0YSA9IG51bGw7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSBpZiAodGhpcy5hY2NvdW50ICE9PSBudWxsICYmICF0aGlzLm1lbWJlckRhdGEpIHsNCiAgICAgICAgICAgIHRoaXMuYWNjb3VudFNlcnZpY2UuZ2V0Q3VycmVudE1lbWJlckRhdGEoKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHJlcyAmJiByZXMudmFsdWUuaWQpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZW1iZXJEYXRhID0gcmVzLnZhbHVlOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLm1lbWJlckRhdGFMb2FkZWQgPSB0cnVlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZW1iZXJEYXRhTG9hZGVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgIH0NCn07DQpIb21lQ29tcG9uZW50ID0gdHNsaWJfMS5fX2RlY29yYXRlKFsNCiAgICBjb3JlXzEuQ29tcG9uZW50KHsNCiAgICAgICAgc2VsZWN0b3I6ICdqaGktaG9tZScsDQogICAgICAgIHRlbXBsYXRlVXJsOiAnLi9ob21lLmNvbXBvbmVudC5odG1sJywNCiAgICAgICAgc3R5bGVVcmxzOiBbJy4vaG9tZS5jb21wb25lbnQuc2NzcyddDQogICAgfSksDQogICAgdHNsaWJfMS5fX21ldGFkYXRhKCJkZXNpZ246cGFyYW10eXBlcyIsIFt0eXBlb2YgKF9hID0gdHlwZW9mIGNvcmVfMi5BY2NvdW50U2VydmljZSAhPT0gInVuZGVmaW5lZCIgJiYgY29yZV8yLkFjY291bnRTZXJ2aWNlKSA9PT0gImZ1bmN0aW9uIiA/IF9hIDogT2JqZWN0XSkNCl0sIEhvbWVDb21wb25lbnQpOw0KZXhwb3J0cy5Ib21lQ29tcG9uZW50ID0gSG9tZUNvbXBvbmVudDsNCg=="},{"version":3,"file":"C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\home\\home.component.ts","sourceRoot":"","sources":["C:\\prgr\\orcid-member-services\\gateway\\node_modules\\angular-router-loader\\src\\index.js!C:\\prgr\\orcid-member-services\\gateway\\node_modules\\tslint-loader\\index.js!C:\\prgr\\orcid-member-services\\gateway\\src\\main\\webapp\\app\\home\\home.component.ts"],"names":[],"mappings":";;;;AAAA,wCAAkD;AAClD,mCAA0C;AAU1C,IAAa,aAAa,GAA1B,MAAa,aAAa;IAOxB,YAAoB,cAA8B;QAA9B,mBAAc,GAAd,cAAc,CAAgB;QAHlD,qBAAgB,GAAG,KAAK,CAAC;QACzB,uBAAkB,GAAG,KAAK,CAAC;IAE0B,CAAC;IAEtD,QAAQ;QACN,IAAI,CAAC,cAAc,CAAC,sBAAsB,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE;YAC/D,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACvB,IAAI,CAAC,aAAa,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC,OAAgB,EAAE,EAAE;YACvD,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACvB,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE;gBAC5B,IAAI,CAAC,aAAa,EAAE,CAAC;aACtB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,aAAa;QACX,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAC/B,IAAI,IAAI,CAAC,OAAO,KAAK,IAAI,EAAE;YACzB,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;YAC9B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;SACxB;aAAM,IAAI,IAAI,CAAC,OAAO,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YACpD,IAAI,CAAC,cAAc,CAAC,oBAAoB,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;gBACpD,IAAI,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE,EAAE;oBACvB,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,KAAK,CAAC;oBAC5B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;iBAC9B;qBAAM;oBACL,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;iBAC9B;YACH,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;CACF,CAAA;AAtCY,aAAa;IALzB,gBAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACpB,WAAW,EAAE,uBAAuB;QACpC,SAAS,EAAE,CAAC,uBAAuB,CAAC;KACrC,CAAC;iEAQoC,qBAAc,oBAAd,qBAAc;GAPvC,aAAa,CAsCzB;AAtCY,sCAAa","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AccountService } from 'app/core';\nimport { IMSUser } from 'app/shared/model/user.model';\nimport { ISFMemberData } from 'app/shared/model/salesforce-member-data.model';\nimport { BehaviorSubject } from 'rxjs';\n\n@Component({\n  selector: 'jhi-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent implements OnInit {\n  subject: BehaviorSubject<ISFMemberData>;\n  account: IMSUser;\n  memberData: ISFMemberData;\n  memberDataLoaded = false;\n  fetchingMemberData = false;\n\n  constructor(private accountService: AccountService) {}\n\n  ngOnInit() {\n    this.accountService.getAuthenticationState().subscribe(account => {\n      this.account = account;\n      this.getMemberData();\n    });\n    this.accountService.identity().then((account: IMSUser) => {\n      this.account = account;\n      if (!this.fetchingMemberData) {\n        this.getMemberData();\n      }\n    });\n  }\n\n  getMemberData() {\n    this.fetchingMemberData = true;\n    if (this.account === null) {\n      this.memberDataLoaded = false;\n      this.memberData = null;\n    } else if (this.account !== null && !this.memberData) {\n      this.accountService.getCurrentMemberData().then(res => {\n        if (res && res.value.id) {\n          this.memberData = res.value;\n          this.memberDataLoaded = true;\n        } else {\n          this.memberDataLoaded = true;\n        }\n      });\n    }\n  }\n}\n"]}]}